# -- general -------------------------------------------------------------------
set -g default-terminal "screen-256color" # colors
set -g history-limit 100000                 # scrollback buffer
set -g display-time 2000                    # display messages for 2 seconds
set -g focus-events on                      # focus events for vim/neovim
set -s escape-time 0                        # zero-out escape time for vim/neovim
set -g mouse on

# -- keybindings ---------------------------------------------------------------

# Rebind prefix key
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# Easy reloading
bind R source-file ~/.tmux.conf \; display '~/.tmux.conf sourced'

# change split keys
unbind %
bind | split-window -h -c "#{pane_current_path}"
unbind '"'
bind - split-window -v -c "#{pane_current_path}"

# pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5
bind -r m resize-pane -Z

# window navigation
bind -r p previous-window
bind -r n next-window

# -- plugins -------------------------------------------------------------------
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'dracula/tmux'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# -- plugin settings -----------------------------------------------------------

# customize dracula
set -g @dracula-plugins "battery weather time"
set -g @dracula-show-powerline true
set -g @dracula-show-fahrenheit false
set -g @dracula-military-time true

# continuum
set -g @continuum-restore 'on'

# -- keybindings documentation -------------------------------------------------
#
# all keybindings are prefixed with C-a (your prefix)
#
# a + R - reload tmux configuration
# a + | - split window horizontally
# a + - - split window vertically
# a + h - select left pane
# a + j - select down pane
# a + k - select up pane
# a + l - select right pane
# a + H - resize left pane
# a + J - resize down pane
# a + K - resize up pane
# a + L - resize right pane
# a + m - maximize pane
# a + p - previous window
# a + n - next window
# a + y - copy to system clipboard
# a + I - install plugins
# a + C-s - save session
# a + C-r - restore session

# -- run tpm -------------------------------------------------------------------
run '~/.tmux/plugins/tpm/tpm'
